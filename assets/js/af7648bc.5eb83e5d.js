"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[606],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(n),h=r,m=d["".concat(s,".").concat(h)]||d[h]||c[h]||o;return n?a.createElement(m,i(i({ref:t},p),{},{components:n})):a.createElement(m,i({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8215:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},9877:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(7462),r=n(7294),o=n(2389),i=n(9548),l=n(6010),s="tabItem_LplD";function u(e){var t,n,o,u=e.lazy,p=e.block,c=e.defaultValue,d=e.values,h=e.groupId,m=e.className,f=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),g=null!=d?d:f.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),k=(0,i.lx)(g,(function(e,t){return e.value===t.value}));if(k.length>0)throw new Error('Docusaurus error: Duplicate values "'+k.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var b=null===c?c:null!=(t=null!=c?c:null==(n=f.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(o=f[0])?void 0:o.props.value;if(null!==b&&!g.some((function(e){return e.value===b})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+b+'" but none of its children has the corresponding value. Available values are: '+g.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var v=(0,i.UB)(),y=v.tabGroupChoices,w=v.setTabGroupChoices,N=(0,r.useState)(b),C=N[0],T=N[1],j=[],S=(0,i.o5)().blockElementScrollPositionUntilNextRender;if(null!=h){var O=y[h];null!=O&&O!==C&&g.some((function(e){return e.value===O}))&&T(O)}var D=function(e){var t=e.currentTarget,n=j.indexOf(t),a=g[n].value;a!==C&&(S(t),T(a),null!=h&&w(h,a))},E=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=j.indexOf(e.currentTarget)+1;n=j[a]||j[0];break;case"ArrowLeft":var r=j.indexOf(e.currentTarget)-1;n=j[r]||j[j.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":p},m)},g.map((function(e){var t=e.value,n=e.label,o=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:C===t?0:-1,"aria-selected":C===t,key:t,ref:function(e){return j.push(e)},onKeyDown:E,onFocus:D,onClick:D},o,{className:(0,l.Z)("tabs__item",s,null==o?void 0:o.className,{"tabs__item--active":C===t})}),null!=n?n:t)}))),u?(0,r.cloneElement)(f.filter((function(e){return e.props.value===C}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},f.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==C})}))))}function p(e){var t=(0,o.Z)();return r.createElement(u,(0,a.Z)({key:String(t)},e))}},4190:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return u},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return d},default:function(){return m}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=n(9877),l=n(8215),s=["components"],u={title:"Tutorial"},p="Tutorial Using our Sample To-Do App",c={unversionedId:"basics/tutorial",id:"basics/tutorial",title:"Tutorial",description:"We created TooDoo, a simple to-do application, as a sample project to help you quickly onboard to Raftt, even without using your own code.",source:"@site/docs/basics/tutorial.md",sourceDirName:"basics",slug:"/basics/tutorial",permalink:"/docs/basics/tutorial",tags:[],version:"current",frontMatter:{title:"Tutorial"},sidebar:"tutorialSidebar",previous:{title:"Spawn Your First Environment",permalink:"/docs/basics/quickstart"},next:{title:"Prerequisites",permalink:"/docs/basics/prerequisites"}},d=[{value:"Your First <code>raftt up</code>",id:"your-first-raftt-up",children:[{value:"Under the Hood",id:"under-the-hood",children:[],level:3}],level:2},{value:"Working With the Env",id:"working-with-the-env",children:[{value:"Changing the Color of a Button",id:"changing-the-color-of-a-button",children:[],level:3},{value:"Breaking the Code",id:"breaking-the-code",children:[],level:3}],level:2},{value:"Debugging the Application",id:"debugging-the-application",children:[],level:2},{value:"Branch Switching",id:"branch-switching",children:[{value:"Database Changes",id:"database-changes",children:[],level:3},{value:"Adding Services",id:"adding-services",children:[],level:3}],level:2},{value:"Collaborating With Other Team Members",id:"collaborating-with-other-team-members",children:[],level:2},{value:"Try It With Your Project",id:"try-it-with-your-project",children:[],level:2}],h={toc:d};function m(e){var t=e.components,u=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,a.Z)({},h,u,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"tutorial-using-our-sample-to-do-app"},"Tutorial Using our Sample To-Do App"),(0,o.kt)("p",null,"We created ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/rafttio/toodoo"},"TooDoo"),", a simple to-do application, as a sample project to help you quickly onboard to Raftt, even without using your own code."),(0,o.kt)("p",null,"The project is written mainly in Python (Flask) with some Go, but familiarity with these languages isn't necessary to successfully complete this tutorial.  "),(0,o.kt)("h2",{id:"your-first-raftt-up"},"Your First ",(0,o.kt)("inlineCode",{parentName:"h2"},"raftt up")),(0,o.kt)("p",null,"In this section, we'll get you up and running with your very own Raftt environment and explain what happens under the hood.\nTake the following steps  -"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Clone the project's repo - ",(0,o.kt)("inlineCode",{parentName:"li"},"git clone https://github.com/rafttio/toodoo")),(0,o.kt)("li",{parentName:"ol"},"Run ",(0,o.kt)("inlineCode",{parentName:"li"},"raftt up")," and wait for ",(0,o.kt)("inlineCode",{parentName:"li"},"Environment spawned successfully!")," to be printed",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"You will be prompted to log in with your GitHub account"))),(0,o.kt)("li",{parentName:"ol"},"Run ",(0,o.kt)("inlineCode",{parentName:"li"},"raftt status")," to see the status of all the environment services.")),(0,o.kt)("p",{align:"center"},(0,o.kt)("img",{src:n(7469).Z,alt:"raftt status output"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"(AS - Change image to relevant output)")),(0,o.kt)("p",null,"As seen in the above screenshot, web container exposes port 3000. Let's see what happens when you browse it."),(0,o.kt)("p",{align:"center"},(0,o.kt)("img",{src:n(8503).Z,alt:"raftt status output"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"(AS - Change image to relevant output)"),(0,o.kt)("br",{parentName:"p"}),"\n","You can now play around with the app - add, remove, and edit tasks as you wish."),(0,o.kt)("h3",{id:"under-the-hood"},"Under the Hood"),(0,o.kt)("p",null,"When you ran ",(0,o.kt)("inlineCode",{parentName:"p"},"raftt up"),", you started a sequence of events -"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Authentication with GitHub"),(0,o.kt)("li",{parentName:"ol"},"Raftt's configuration file, ",(0,o.kt)("a",{parentName:"li",href:"../config/raftt.yml"},"raftt.yml"),", is detected by the Raftt client.",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"In this case, raftt.yml was cloned with the repo. If it doesn't exist, it is automatically generated with default values."))),(0,o.kt)("li",{parentName:"ol"},"The raftt.yml file refers to the environment definitions - the Docker Compose file and the ",(0,o.kt)("a",{parentName:"li",href:"../config/dev_container"},"dev container")," definitions."),(0,o.kt)("li",{parentName:"ol"},"A new private and isolated environment is spawned in Raftt's cloud.")),(0,o.kt)("p",null,"If you have docker installed, you can run ",(0,o.kt)("inlineCode",{parentName:"p"},"docker ps")," and see that nothing runs on your machine, and it's all remote."),(0,o.kt)("h2",{id:"working-with-the-env"},"Working With the Env"),(0,o.kt)("p",null,"Now that your env is up, you can start working on the project and modify the code."),(0,o.kt)("h3",{id:"changing-the-color-of-a-button"},"Changing the Color of a Button"),(0,o.kt)("p",null,"In line 74 in the file ",(0,o.kt)("inlineCode",{parentName:"p"},"<repo>/templates/index.html"),", change ",(0,o.kt)("inlineCode",{parentName:"p"},"btn-primary")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"btn-danger"),", save, and reload the page. The submit button should now be colored red."),(0,o.kt)("h3",{id:"breaking-the-code"},"Breaking the Code"),(0,o.kt)("p",null,"Now let's see what happens if you make a mistake.",(0,o.kt)("br",{parentName:"p"}),"\n","Add a change that will cause the main process to crash.",(0,o.kt)("br",{parentName:"p"}),"\n","You can go to ",(0,o.kt)("inlineCode",{parentName:"p"},"<repo>/app.py")," and add ",(0,o.kt)("inlineCode",{parentName:"p"},"This won't work")," to line 6.",(0,o.kt)("br",{parentName:"p"}),"\n","Since it is python code, you need to restart the ",(0,o.kt)("inlineCode",{parentName:"p"},"web")," container main process for the change to have an effect.",(0,o.kt)("br",{parentName:"p"}),"\n","Do this by running ",(0,o.kt)("inlineCode",{parentName:"p"},"raftt restart web"),".",(0,o.kt)("br",{parentName:"p"}),"\n","Note that it only restarts the main process, and the container itself isn't re-deployed.",(0,o.kt)("br",{parentName:"p"}),"\n","If you now refresh the webpage, you'll see the page isn't loading.",(0,o.kt)("br",{parentName:"p"}),"\n","To debug the issue, you should run ",(0,o.kt)("inlineCode",{parentName:"p"},"raftt logs web")," and see the error in the container logs.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"(AS - add screenshot)"),(0,o.kt)("br",{parentName:"p"}),"\n","To get the service back up, revert all changes using ",(0,o.kt)("inlineCode",{parentName:"p"},"git checkout .")," and run ",(0,o.kt)("inlineCode",{parentName:"p"},"raftt restart web"),".",(0,o.kt)("br",{parentName:"p"}),"\n","You can now see the app is working again, and you can also recheck the logs to see the process started successfully.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"(AS - add screenshot)")),(0,o.kt)("h2",{id:"debugging-the-application"},"Debugging the Application"),(0,o.kt)("p",null,"One of the most common things devs want to do is debugging their environment.",(0,o.kt)("br",{parentName:"p"}),"\n","Raftt currently supports interactively debugging Python and Go code using Visual Studio Code or any JetBrains IDE. Additional support is continuously added."),(0,o.kt)(i.Z,{className:"unique-tabs",mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"vscode",label:"VS Code",default:!0,mdxType:"TabItem"},(0,o.kt)("p",null,"To debug the application, follow these steps -"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open the project in your VS Code"),(0,o.kt)("li",{parentName:"ol"},"Add a breakpoint inside the function ",(0,o.kt)("inlineCode",{parentName:"li"},"create")," in the file ",(0,o.kt)("inlineCode",{parentName:"li"},"app.py")),(0,o.kt)("li",{parentName:"ol"},"Start debugging using the debug configuration ",(0,o.kt)("inlineCode",{parentName:"li"},"Raftt"),(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Debugging in this project is pre-configured by files committed in the repo. See ",(0,o.kt)("a",{parentName:"li",href:"/docs/debugging/VSCode#configuration"},"here")," for details on how to do it yourself"))),(0,o.kt)("li",{parentName:"ol"},"Create a task in the TooDoo"),(0,o.kt)("li",{parentName:"ol"},"See it stopped where you put the breakpoint"),(0,o.kt)("li",{parentName:"ol"},"Debug the remote service as if it were local"))),(0,o.kt)(l.Z,{value:"jetbrains",label:"JetBrains",mdxType:"TabItem"},(0,o.kt)("p",null,"To debug the application, follow these steps -"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open the project in your any JetBrains IDE"),(0,o.kt)("li",{parentName:"ol"},"Install Raftt's plugin according to the instructions ",(0,o.kt)("a",{parentName:"li",href:"/docs/debugging/JetBrains#installing-the-plugin"},"here")),(0,o.kt)("li",{parentName:"ol"},"Add a breakpoint inside the function ",(0,o.kt)("inlineCode",{parentName:"li"},"create")," in the file ",(0,o.kt)("inlineCode",{parentName:"li"},"app.py")),(0,o.kt)("li",{parentName:"ol"},"Start debugging using the debug configuration ",(0,o.kt)("inlineCode",{parentName:"li"},"Raftt"),(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Debugging in this project is pre-configured by files committed in the repo. See ",(0,o.kt)("a",{parentName:"li",href:"/docs/debugging/JetBrains#configuration"},"here")," for details on how to do it yourself"))),(0,o.kt)("li",{parentName:"ol"},"Create a task in the TooDoo"),(0,o.kt)("li",{parentName:"ol"},"See it stopped where you put the breakpoint"),(0,o.kt)("li",{parentName:"ol"},"Debug the remote service as if it were local")))),(0,o.kt)("h2",{id:"branch-switching"},"Branch Switching"),(0,o.kt)("p",null,"Raftt seamlessly integrates with your workflow and makes switching between branches a breeze.",(0,o.kt)("br",{parentName:"p"}),"\n","Switching to a new branch spawned a new environment while the previous environment(s) are waiting if you want to come back to them later."),(0,o.kt)("h3",{id:"database-changes"},"Database Changes"),(0,o.kt)("p",null,"Switch to a different branch using ",(0,o.kt)("inlineCode",{parentName:"p"},"git checkout emoji")," and refresh the page.",(0,o.kt)("br",{parentName:"p"}),"\n","You can now see our new feature - choosing an emoji for each task.\nNote the tasks changed, both in content and in database schema (to support the emoji), but with Raftt, this change is seamless.",(0,o.kt)("br",{parentName:"p"}),"\n","You can go back to main using ",(0,o.kt)("inlineCode",{parentName:"p"},"git checkout main")," and see any changes to the task list remain."),(0,o.kt)("h3",{id:"adding-services"},"Adding Services"),(0,o.kt)("p",null,"Switch to a different branch using ",(0,o.kt)("inlineCode",{parentName:"p"},"git checkout active-users")," and refresh the page.",(0,o.kt)("br",{parentName:"p"}),"\n","We added a counter that shows the number of users connected to our awesome TooDoo app.\nIf you run ",(0,o.kt)("inlineCode",{parentName:"p"},"raftt status"),", you'll notice a few changes -",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("strong",{parentName:"p"},"(AS - add screenshot)"),"  "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The environment now has two additional services - ",(0,o.kt)("inlineCode",{parentName:"li"},"redis")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"live-backend")," (running Go)."),(0,o.kt)("li",{parentName:"ol"},"Python in the ",(0,o.kt)("inlineCode",{parentName:"li"},"web")," container changed seamlessly from v3.9 to v3.10 without requiring any dependency change on your side.")),(0,o.kt)("h2",{id:"collaborating-with-other-team-members"},"Collaborating With Other Team Members"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"This feature is only available for paying customers.",(0,o.kt)("br",{parentName:"p"}),"\n","For more information on Raftt's paid plans, ",(0,o.kt)("a",{parentName:"p",href:"raftt.io/contact-us"},"contact us"),"."))),(0,o.kt)("p",null,"Say you want to share your magnificent work on the active users feature with the PM that defined it.",(0,o.kt)("br",{parentName:"p"}),"\n","You're used to calling her to see it work on your machine, but she's WFH.",(0,o.kt)("br",{parentName:"p"}),"\n","You can share your screen using Slack, but it can be much easier if you could just give her direct access to your dev environment to play with it herself. Now you can!",(0,o.kt)("br",{parentName:"p"}),"\n","Just run ",(0,o.kt)("inlineCode",{parentName:"p"},"raftt expose web"),", and share the public URL with whoever you want to take a look."),(0,o.kt)("h2",{id:"try-it-with-your-project"},"Try It With Your Project"),(0,o.kt)("p",null,"After seeing how easy it is to work with Raftt, you should start using it for your own projects and your own dev environment."))}m.isMDXComponent=!0},7469:function(e,t,n){t.Z=n.p+"assets/images/status_output-84b2d8eb4d888644f1f40e962d6a860a.png"},8503:function(e,t,n){t.Z=n.p+"assets/images/toodoo_main_home-c7765764e6d91534c0af1fde059e4075.png"}}]);