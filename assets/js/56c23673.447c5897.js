"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[193],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return u}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=r.createContext({}),s=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=s(e.components);return r.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},f=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),f=s(t),u=a,m=f["".concat(l,".").concat(u)]||f[u]||d[u]||o;return t?r.createElement(m,i(i({ref:n},p),{},{components:t})):r.createElement(m,i({ref:n},p))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=f;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=t[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},4152:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return c},metadata:function(){return s},toc:function(){return d}});var r=t(7462),a=t(3366),o=(t(7294),t(3905)),i=["components"],c={Title:"Dev Container"},l="Dev Container",s={unversionedId:"config/dev_container",id:"config/dev_container",title:"Dev Container",description:"In addition to the containers described in your docker-compose file, another container is created when an environment is spawned - the dev container (named dev by default).",source:"@site/docs/config/dev_container.md",sourceDirName:"config",slug:"/config/dev_container",permalink:"/docs/config/dev_container",draft:!1,tags:[],version:"current",frontMatter:{Title:"Dev Container"},sidebar:"tutorialSidebar",previous:{title:"raftt.yml",permalink:"/docs/config/raftt.yml"},next:{title:"Warmup Script",permalink:"/docs/config/warmup"}},p={},d=[{value:"Default Dev Container",id:"default-dev-container",level:2},{value:"Running Raftt Commands",id:"running-raftt-commands",level:2},{value:"Dependencies",id:"dependencies",level:2}],f={toc:d};function u(e){var n=e.components,t=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"dev-container"},"Dev Container"),(0,o.kt)("p",null,"In addition to the containers described in your docker-compose file, another container is created when an environment is spawned - the dev container (named ",(0,o.kt)("inlineCode",{parentName:"p"},"dev")," by default).  "),(0,o.kt)("p",null,"The purpose of this container is to mimic the developer's computer's role when developing locally.",(0,o.kt)("br",{parentName:"p"}),"\n","You can run scripts, build your code, run tests, and do anything you're used to doing while developing as if it were your computer."),(0,o.kt)("p",null,"The repository's folder is copied (except for what's explicitly in .gitignore) to the dev container when spawning an environment, and a two-way sync makes sure these directories stay synchronized."),(0,o.kt)("p",null,"Two important things happen in the dev container during environment spawning -"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The execution of the ",(0,o.kt)("a",{parentName:"li",href:"./warmup"},"warmup script"),"."),(0,o.kt)("li",{parentName:"ol"},"The execution of the ",(0,o.kt)("a",{parentName:"li",href:"./db_seeding#custom-script"},"custom database seeding scripts"),".")),(0,o.kt)("admonition",{title:"Remember",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Include all the dependencies for these scripts by editing the dev container's Dockerfile.")),(0,o.kt)("h2",{id:"default-dev-container"},"Default Dev Container"),(0,o.kt)("p",null,"The default dev container includes many useful tools for development and environment management. The docker image and the description of its content can be found ",(0,o.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/raftt/dev"},"here"),".  "),(0,o.kt)("h2",{id:"running-raftt-commands"},"Running Raftt Commands"),(0,o.kt)("p",null,"We added a reduced copy of Raftt's CLI into the dev container.",(0,o.kt)("br",{parentName:"p"}),"\n","This allows users to run some of Raftt's commands after SSHing to the dev container using ",(0,o.kt)("a",{parentName:"p",href:"../cli_reference#raftt-sh"},(0,o.kt)("inlineCode",{parentName:"a"},"raftt sh dev"))," command.",(0,o.kt)("br",{parentName:"p"}),"\n","The allowed commands affect the containers and not the images or the environment itself.\nThe following commands are available -"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"../cli_reference#raftt-cp"},(0,o.kt)("inlineCode",{parentName:"a"},"cp"))," - Copy files to and from a service."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"../cli_reference#raftt-help"},(0,o.kt)("inlineCode",{parentName:"a"},"help"))," - Help with any command."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"../cli_reference#raftt-logs"},(0,o.kt)("inlineCode",{parentName:"a"},"logs"))," - Get the logs of a service."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"../cli_reference#raftt-restart"},(0,o.kt)("inlineCode",{parentName:"a"},"restart"))," - Restart one or more services."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"../cli_reference#raftt-sh"},(0,o.kt)("inlineCode",{parentName:"a"},"sh"))," - Connect or run a command on a service."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"../cli_reference#raftt-stop"},(0,o.kt)("inlineCode",{parentName:"a"},"stop"))," - Stop one or more services."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"../cli_reference#raftt-version"},(0,o.kt)("inlineCode",{parentName:"a"},"version"))," - Show the Raftt version information.")),(0,o.kt)("h2",{id:"dependencies"},"Dependencies"),(0,o.kt)("p",null,"Because Raftt depends on the dev container for running various scripts, the dev container may not depend on other services."))}u.isMDXComponent=!0}}]);